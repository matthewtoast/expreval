/*!
 * expreval v0.0.0
 * (c) Matthew Trost
 * Released under the MIT License.
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("seedrandom")):"function"==typeof define&&define.amd?define(["exports","seedrandom"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).expreval={},n.seedrandom)}(this,(function(n,t){"use strict";function r(n){if(n&&n.__esModule)return n;var t=Object.create(null);return n&&Object.keys(n).forEach((function(r){if("default"!==r){var e=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,e.get?e:{enumerable:!0,get:function(){return n[r]}})}})),t.default=n,Object.freeze(t)}var e=r(t),u=function(){return u=Object.assign||function(n){for(var t,r=1,e=arguments.length;r<e;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n},u.apply(this,arguments)};function a(n,t,r,e){return new(r||(r=Promise))((function(u,a){function o(n){try{c(e.next(n))}catch(n){a(n)}}function i(n){try{c(e.throw(n))}catch(n){a(n)}}function c(n){var t;n.done?u(n.value):(t=n.value,t instanceof r?t:new r((function(n){n(t)}))).then(o,i)}c((e=e.apply(n,t||[])).next())}))}function o(n,t){var r,e,u,a,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,e&&(u=2&a[0]?e.return:a[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,a[1])).done)return u;switch(e=0,u&&(a=[2&a[0],u.value]),a[0]){case 0:case 1:u=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,e=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(u=o.trys,(u=u.length>0&&u[u.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!u||a[1]>u[0]&&a[1]<u[3])){o.label=a[1];break}if(6===a[0]&&o.label<u[1]){o.label=u[1],u=a;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(a);break}u[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(n,o)}catch(n){a=[6,n],e=0}finally{r=u=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function i(n,t,r){if(r||2===arguments.length)for(var e,u=0,a=t.length;u<a;u++)!e&&u in t||(e||(e=Array.prototype.slice.call(t,0,u)),e[u]=t[u]);return n.concat(e||Array.prototype.slice.call(t))}var c={E:Math.E,LN10:Math.LN10,LN2:Math.LN2,LOG10E:Math.LOG10E,LOG2E:Math.LOG2E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2},s={"**":{alias:"pow"},"*":{alias:"mul"},"/":{alias:"div"},"%":{alias:"mod"},"+":{alias:"add"},"-":{alias:"sub"},">>>":{alias:"bitwiseRightShiftUnsigned"},"<<":{alias:"bitwiseLeftShift"},">>":{alias:"bitwiseRightShift"},"<=":{alias:"lte"},">=":{alias:"gte"},"<":{alias:"lt"},">":{alias:"gt"},"===":{alias:"eq"},"!==":{alias:"neq"},"==":{alias:"eq"},"!=":{alias:"neq"},"&":{alias:"bitwiseAnd"},"^":{alias:"bitwiseXor"},"|":{alias:"bitwiseOr"},"&&":{alias:"and"},"||":{alias:"or"},":=":{alias:"setVar"},"+=":{alias:"setAdd"},"-=":{alias:"setSub"},"/=":{alias:"setDiv"},"*=":{alias:"setMul"}},f={"+":{alias:"number"},"-":{alias:"negate"},"~":{alias:"bitwiseNot"},"!":{alias:"not"}},l=function(n){return R(/^\s+/,n)},p=q(/^('[^'\\]*(?:\\.[^'\\]*)*')/,/^("[^"\\]*(?:\\.[^"\\]*)*")/),h=q(/^((?:[0-9]+\.?[0-9]*|\.[0-9]+)(?:[eE][-+]?[0-9]+)?)\b/,/^(0[xX][0-9a-fA-F]+)\b/),d=/^(null)\b/,v=/^(true|false)\b/,b=/^([a-zA-Z_$][a-zA-Z0-9_$.]*)/,g=/^((?:\$(?!{)|\\.|[^`$\\])+)/,m=["**",q("*","/","%"),q("+","-"),q(">>>","<<",">>"),q("<=",">=","<",">"),q("===","!==","==","!="),/^&(?!&)/,"^",/^\|(?!\|)/,"&&","||",q(":=","+=","-=","*=","/=")],y=/^__proto__|prototype|constructor$/;function w(n){var t=this,r=n.funcs,i=n.binops,c=n.unops,l=n.seed,p=void 0===l?"expreval":l,h=n.get,d=n.set,v=n.call,b={};return{rng:e.default(p),funcs:u(u({},k),r),binops:u(u({},s),i),unops:u(u({},f),c),get:function(n){return a(t,void 0,void 0,(function(){var t,r;return o(this,(function(e){switch(e.label){case 0:return n.match(y)?[2,0]:h?[4,h(n)]:[3,2];case 1:return[2,null!==(t=e.sent())&&void 0!==t?t:null];case 2:return[2,null!==(r=b[n])&&void 0!==r?r:null]}}))}))},set:function(n,r){return a(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return n.match(y)?[2]:d?[4,d(n,r)]:[3,2];case 1:return[2,t.sent()];case 2:return b[n]=r,[2]}}))}))},call:v}}function x(n,t){return void 0===t&&(t=w({})),a(this,void 0,void 0,(function(){var r;return o(this,(function(e){switch(e.label){case 0:return r={},[4,N(M(n),t)];case 1:return[2,(r.result=e.sent(),r.ctx=t,r)]}}))}))}function M(n){return function(n,t,r){void 0===t&&(t=0);void 0===r&&(r=!1);return function(e){if("string"!=typeof e)throw new Error("Parsing function expects a string input");var u=function(n,t){void 0===t&&(t=0);return{text:n,ignore:[],stack:[],sp:0,lastSeen:T(n,t,{pos:0,line:1,column:1}),pos:t}}(e,t),a=n(u);if(u===a||!r&&a.pos<e.length)throw new Error("Unexpected token at ".concat(u.lastSeen.line,":").concat(u.lastSeen.column,". Remainder: ").concat(e.slice(u.lastSeen.pos)));return u.stack[0]}}(Z)(n.replace(/\/\/.*\n/g,""))}function N(n,t){var r;return void 0===t&&(t=w({})),a(this,void 0,void 0,(function(){var e,u,c,s,f,l,p,h,d,v,b,g,m,y,w,x,M,S,C,A,I=this;return o(this,(function(k){switch(k.label){case 0:switch(n.type){case"Literal":return[3,1];case"Identifier":return[3,2];case"CallExpression":return[3,4];case"BinaryExpression":return[3,14];case"TernaryExpression":return[3,15];case"UnaryExpression":return[3,20];case"TemplateLiteral":return[3,21]}return[3,27];case 1:return[2,n.value];case 2:return[4,t.get(n.name)];case 3:return[2,void 0!==(e=k.sent())?e:n.name];case 4:return u=Object.keys(t.funcs).includes(n.callee.name)?t.funcs[n.callee.name]:null,c=[],u&&u.assignment&&n.arguments.length>1?(s=null!==(r=E(n.arguments[0]))&&void 0!==r?r:"",f=n.arguments.slice(1),p=(l=c.push).apply,h=[c],d=[[s]],[4,L(f,(function(n){return a(I,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,N(n,t)];case 1:return[2,r.sent()]}}))}))}))]):[3,6];case 5:return p.apply(l,h.concat([i.apply(void 0,d.concat([k.sent(),!1]))])),[3,8];case 6:return b=(v=c.push).apply,g=[c],[4,L(n.arguments,(function(n){return a(I,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,N(n,t)];case 1:return[2,r.sent()]}}))}))}))];case 7:b.apply(v,g.concat([k.sent()])),k.label=8;case 8:return u?u.async?[4,u.f.apply(u,i([t],c,!1))]:[3,10]:[3,11];case 9:return[2,k.sent()];case 10:return[2,u.f.apply(u,i([t],c,!1))];case 11:return t.call?[4,t.call.apply(t,i([t,n.callee.name],c,!1))]:[3,13];case 12:return[2,k.sent()];case 13:throw new Error("Function not found: '".concat(n.callee.name,"'"));case 14:if(m=Object.keys(t.binops).includes(n.operator)?t.binops[n.operator]:null)return[2,N({type:"CallExpression",callee:{name:m.alias,type:"Identifier"},arguments:[n.left,n.right]},t)];throw new Error("Operator not found: '".concat(n.operator,"'"));case 15:return[4,N(n.test,t)];case 16:return O(k.sent())?[4,N(n.consequent,t)]:[3,18];case 17:return[2,k.sent()];case 18:return[4,N(n.alternate,t)];case 19:return[2,k.sent()];case 20:if(y=Object.keys(t.unops).includes(n.operator)?t.unops[n.operator]:null)return[2,N({type:"CallExpression",callee:{name:y.alias,type:"Identifier"},arguments:[n.argument]},t)];throw new Error("Operator not found: '".concat(n.operator,"'"));case 21:w="",x=0,k.label=22;case 22:return x<n.parts.length?(M=n.parts[x],S=M[0],C=M[1],"chunks"!==S?[3,23]:(w+=C,[3,25])):[3,26];case 23:return"expression"!==S?[3,25]:(A=w,[4,N(C,t)]);case 24:w=A+(k.sent()+""),k.label=25;case 25:return x++,[3,22];case 26:return[2,w];case 27:throw new Error("Syntax error")}}))}))}function E(n){return"Identifier"===n.type?n.name:null}function S(n,t){return void 0===t&&(t=0),"number"==typeof n?isNaN(n)?t:n:"string"==typeof n?n.includes(".")?parseFloat(n):parseInt(n):t}function O(n){return!!n&&(("string"!=typeof n||!n.match(/^\s+$/))&&("false"!==n&&"0"!==n))}function C(n,t){return void 0===t&&(t=10),"number"==typeof n?n.toString(t):!0===n||"true"===n?"true":n&&"false"!==n?n+"":"false"}function L(n,t){return a(this,void 0,void 0,(function(){var r,e,u;return o(this,(function(a){switch(a.label){case 0:r=[],e=0,a.label=1;case 1:return e<n.length?[4,t(n[e],e,n)]:[3,4];case 2:u=a.sent(),r.push(u),a.label=3;case 3:return e++,[3,1];case 4:return[2,r]}}))}))}function A(n,t,r){return a(this,void 0,void 0,(function(){var e;return o(this,(function(u){switch(u.label){case 0:return e=C(t),[4,n.set(e,r)];case 1:return u.sent(),[2,r]}}))}))}function I(n,t){var r;return a(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,n.get(t+"")];case 1:return[2,null!==(r=e.sent())&&void 0!==r?r:null]}}))}))}var k={do:{f:function(n){for(var t,r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return null!==(t=r[r.length-1])&&void 0!==t?t:null}},present:{f:function(n,t){return!!t}},empty:{f:function(n,t){return!t}},blank:{f:function(n,t){return!("string"!=typeof t||t&&!t.match(/^\s+$/))||!t}},join:{f:function(n,t){for(var r=[],e=2;e<arguments.length;e++)r[e-2]=arguments[e];return r.join(C(t))}},setVar:{assignment:!0,async:!0,f:function(n,t,r){return a(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,A(n,t,r)];case 1:return[2,e.sent()]}}))}))}},setAdd:{assignment:!0,async:!0,f:function(n,t,r){return a(this,void 0,void 0,(function(){var e;return o(this,(function(u){switch(u.label){case 0:return[4,I(n,t)];case 1:return"string"!=typeof(e=u.sent())?[3,3]:[4,A(n,t,e+r+"")];case 2:case 4:return[2,u.sent()];case 3:return[4,A(n,t,S(e)+S(r))]}}))}))}},setSub:{assignment:!0,async:!0,f:function(n,t,r){return a(this,void 0,void 0,(function(){var e,u,a;return o(this,(function(o){switch(o.label){case 0:return e=A,u=[n,t],a=S,[4,I(n,t)];case 1:return[4,e.apply(void 0,u.concat([a.apply(void 0,[o.sent()])-S(r)]))];case 2:return[2,o.sent()]}}))}))}},setMul:{assignment:!0,async:!0,f:function(n,t,r){return a(this,void 0,void 0,(function(){var e,u,a;return o(this,(function(o){switch(o.label){case 0:return e=A,u=[n,t],a=S,[4,I(n,t)];case 1:return[4,e.apply(void 0,u.concat([a.apply(void 0,[o.sent()])*S(r)]))];case 2:return[2,o.sent()]}}))}))}},setDiv:{assignment:!0,async:!0,f:function(n,t,r){return a(this,void 0,void 0,(function(){var e,u,a;return o(this,(function(o){switch(o.label){case 0:return e=A,u=[n,t],a=S,[4,I(n,t)];case 1:return[4,e.apply(void 0,u.concat([a.apply(void 0,[o.sent()])/S(r)]))];case 2:return[2,o.sent()]}}))}))}},unixTimestampNow:{f:function(){return Date.now()}},unixTimestampForDate:{f:function(n,t,r,e,u,a,o){return new Date(S(t),S(r),S(e),S(u),S(a),S(o)).getTime()}},all:{f:function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var e=0;e<t.length;e++)if(!t[e])return!1;return!0}},any:{f:function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var e=0;e<t.length;e++)if(t[e])return!0;return!1}},some:{f:function(n){for(var t,r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return!!(t=k.any).f.apply(t,i([n],r,!1))}},none:{f:function(n){for(var t,r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return!(t=k.any).f.apply(t,i([n],r,!1))}},or:{f:function(n,t,r){return O(t)||O(r)}},and:{f:function(n,t,r){return O(t)&&O(r)}},not:{f:function(n,t){return!O(t)}},gt:{f:function(n,t,r){return S(t)>S(r)}},gte:{f:function(n,t,r){return S(t)>S(r)}},lt:{f:function(n,t,r){return S(t)>S(r)}},lte:{f:function(n,t,r){return S(t)>S(r)}},eq:{f:function(n,t,r){return C(t)===C(r)}},neq:{f:function(n,t,r){return C(t)!==C(r)}},rand:{f:function(n){return n.rng()}},randInRange:{f:function(n,t,r){return n.rng()*(Number(r)-Number(t))+Number(t)}},randInt:{f:function(n){return Math.floor(10*n.rng())}},randIntInRange:{f:function(n,t,r){return t=Math.ceil(Number(t)),r=Math.floor(Number(r)),Math.floor(n.rng()*(r-t+1))+t}},number:{f:function(n,t){return Number(t)}},bitwiseOr:{f:function(n,t,r){return Number(t)|Number(r)}},bitwiseXor:{f:function(n,t,r){return Number(t)^Number(r)}},bitwiseAnd:{f:function(n,t,r){return Number(t)&Number(r)}},bitwiseNot:{f:function(n,t){return~Number(t)}},bitwiseLeftShift:{f:function(n,t,r){return Number(t)<<Number(r)}},bitwiseRightShift:{f:function(n,t,r){return Number(t)>>Number(r)}},bitwiseRightshiftUnsigned:{f:function(n,t,r){return Number(t)>>>Number(r)}},negate:{f:function(n,t){return-S(t)}},add:{f:function(n,t,r){return"string"==typeof t?t+r+"":S(t)+S(r)}},sub:{f:function(n,t,r){return S(t)-S(r)}},div:{f:function(n,t,r){return S(t)/S(r)}},mul:{f:function(n,t,r){return S(t)*S(r)}},mod:{f:function(n,t,r){return S(t)%S(r)}},pow:{f:function(n,t,r){return Math.pow(S(t),S(r))}},abs:{f:function(n,t){return Math.abs(S(t))}},acos:{f:function(n,t){return Math.acos(S(t))}},acosh:{f:function(n,t){return Math.acosh(S(t))}},asin:{f:function(n,t){return Math.asin(S(t))}},asinh:{f:function(n,t){return Math.asinh(S(t))}},atan:{f:function(n,t){return Math.atan(S(t))}},atan2:{f:function(n,t,r){return Math.atan2(S(t),S(r))}},atanh:{f:function(n,t){return Math.atanh(S(t))}},cbrt:{f:function(n,t){return Math.cbrt(S(t))}},ceil:{f:function(n,t){return Math.ceil(S(t))}},cos:{f:function(n,t){return Math.cos(S(t))}},cosh:{f:function(n,t){return Math.cosh(S(t))}},exp:{f:function(n,t){return Math.exp(S(t))}},floor:{f:function(n,t){return Math.floor(S(t))}},hypot:{f:function(n,t){return Math.hypot(S(t))}},log:{f:function(n,t){return Math.log(S(t))}},log10:{f:function(n,t){return Math.log10(S(t))}},log2:{f:function(n,t){return Math.log2(S(t))}},max:{f:function(n,t){return Math.max(S(t))}},min:{f:function(n,t){return Math.min(S(t))}},round:{f:function(n,t){return Math.round(S(t))}},sign:{f:function(n,t){return Math.sign(S(t))}},sin:{f:function(n,t){return Math.sin(S(t))}},sinh:{f:function(n,t){return Math.sinh(S(t))}},sqrt:{f:function(n,t){return Math.sqrt(S(t))}},tan:{f:function(n,t){return Math.tan(S(t))}},tanh:{f:function(n,t){return Math.tanh(S(t))}},trunc:{f:function(n,t){return Math.trunc(S(t))}},fromCharCode:{f:function(n,t){return String.fromCharCode(Number(t))}},fromCodePoint:{f:function(n,t){return String.fromCodePoint(Number(t))}},parseInt:{f:function(n,t,r){return parseInt(C(t),Number(r))}},parseFloat:{f:function(n,t){return parseFloat(C(t))}},length:{f:function(n,t){return C(t).length}},charAt:{f:function(n,t,r){return C(t).charAt(Number(r))}},charCodeAt:{f:function(n,t,r){return C(t).charCodeAt(Number(r))}},codePointAt:{f:function(n,t,r){var e;return null!==(e=C(t).codePointAt(Number(r)))&&void 0!==e?e:0}},concat:{f:function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return"".concat.apply("",t.map((function(n){return C(n)})))}},endsWith:{f:function(n,t,r){return C(t).endsWith(C(r))}},includes:{f:function(n,t,r){return C(t).includes(C(r))}},indexOf:{f:function(n,t,r){return C(t).indexOf(C(r))}},lastIndexOf:{f:function(n,t,r){return C(t).lastIndexOf(C(r))}},localeCompare:{f:function(n,t,r){return C(t).localeCompare(C(r))}},match:{f:function(n,t,r){return!!C(t).match(C(r))}},matchAll:{f:function(n,t,r){return!!C(t).match(C(r))}},padEnd:{f:function(n,t,r,e){return C(t).padEnd(Number(r),C(null!=e?e:""))}},padStart:{f:function(n,t,r,e){return C(t).padStart(Number(r),C(null!=e?e:""))}},repeat:{f:function(n,t,r){return C(t).repeat(Number(r))}},replace:{f:function(n,t,r,e){return C(t).replace(C(r),C(e))}},replaceAll:{f:function(n,t,r,e){return C(t).replaceAll(C(r),C(e))}},slice:{f:function(n,t,r,e){return C(t).slice(Number(r),Number(null!=e?e:C(t).length))}},startsWith:{f:function(n,t,r){return C(t).startsWith(C(r))}},substring:{f:function(n,t,r,e){return C(t).substring(Number(r),Number(e))}},toLowerCase:{f:function(n,t){return C(t).toLowerCase()}},toUpperCase:{f:function(n,t){return C(t).toUpperCase()}},trim:{f:function(n,t){return C(t).trim()}},trimEnd:{f:function(n,t){return C(t).trimEnd()}},trimStart:{f:function(n,t){return C(t).trimStart()}}};function T(n,t,r){for(var e=r.pos,u=r.line,a=r.column;e<t;){"\n"===n[e++]?(a=1,u++):a++}return{pos:e,line:u,column:a}}var j=function(n){n.pos>n.lastSeen.pos&&Object.assign(n.lastSeen,T(n.text,n.pos,n.lastSeen))};function P(n){if("function"==typeof n)return n;if(n instanceof RegExp)return t=n,function(n){j(n);var r=t.exec(n.text.substring(n.pos));if(!r)return n;for(var e=u(u({},n),{pos:n.pos+r[0].length}),a=1;a<r.length;a++)n.stack[e.sp++]=r[a];return e};var t;if("string"==typeof n)return function(n){return function(t){return j(t),t.text.startsWith(n,t.pos)?u(u({},t),{pos:t.pos+n.length}):t}}(n);throw new Error("Invalid rule")}function R(n,t){return t=P(t),n&&(n=R(null,D(n))),function(r){var e=n?n(r):r;r.ignore.push(n);var u=t(e);return r.ignore.pop(),u===e?r:n?n(u):u}}var $=function(n){if(!n.ignore.length)return n;var t=n.ignore[n.ignore.length-1];return t?t(n):n};function _(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return n=n.map(P),function(t){for(var r=t,e=0;e<n.length;e++){var u=e>0?$(r):r,a=n[e](u);if(a===u)return t;(a.pos>u.pos||a.sp>u.sp)&&(r=a)}return r}}function q(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return n=n.map(P),function(t){for(var r=0;r<n.length;r++){var e=n[r](t);if(e!==t)return e}return t}}function D(n){return n=P(n),function(t){for(;;){var r=$(t),e=n(r);if(e===r)return t;t=e}}}function U(n){return n=P(n),function(t){var r=n(t);return r!==t?r:u({},t)}}function F(n,t){return n=P(n),function(r){var e=n(r);if(e===r)return r;var u=t(r.stack.slice(r.sp,e.sp),r,e);return e.sp=r.sp,null!==u&&(r.stack[e.sp++]=u),e}}var B=function(n){return U(D(n))};function G(n,t){for(var r=n[0],e=1;e<n.length;e+=2){var u=[n[e].operator,n[e+1]],a=u[1];r=V({type:"BinaryExpression",left:r,operator:u[0],right:a},t,{pos:a.pos+a.text.length})}return r}function W(n,t,r){for(var e=n[n.length-1],u=n.length-2;u>=0;u-=2){var a=[n[u-1],n[u].operator],o=a[0];e=V({type:"BinaryExpression",left:o,operator:a[1],right:e},{pos:o.pos},r)}return e}var Q,z,X=function(n){return F(n,(function(n,t,r){return{$:t,operator:t.text.substring(t.pos,r.pos)}}))},V=function(n,t,r){return Object.defineProperties(n,{pos:{writable:!0,configurable:!0,value:t.pos},text:{writable:!0,configurable:!0,value:(t.text||r.text).slice(t.pos,r.pos)}})},Z=l((z=function(n){return Q((function(t){return n(n)(t)}))},(Q=function(n){var t=F(b,(function(n){return{type:"Identifier",name:n[0]}})),r=F(p,(function(n){var t=n[0];return{type:"Literal",value:t.slice(1,-1),raw:t}})),e=F(h,(function(n){var t=n[0];return{type:"Literal",value:+t,raw:t}})),u=F(d,(function(n){return{type:"Literal",value:null,raw:n[0]}})),a=F(v,(function(n){var t=n[0];return{type:"Literal",value:"true"===t,raw:t}})),o=F(g,(function(n){return["chunks",n[0]]})),i=F(_("${",l(n),"}"),(function(n){return["expression",n[0]]})),c=F(R(null,_("`",B(q(o,i)),"`")),(function(n){return{type:"TemplateLiteral",parts:n}})),s=q(r,e,u,a,c),f=_(n,B(_(",",n))),y=F(_("(",U(_(f,U(","))),")"),(function(n){return{args:n}})),w=F(q(y),(function(n,t,r){return{part:n[0],$next:r}})),x=F(_(n,B(_(",",n))),(function(n){return n.length>1?{type:"CompoundExpression",leafs:n}:n[0]})),M=F(q(s,t,_("(",x,")")),(function(n,t,r){var e=n[0];return V(e,t,r)})),N=F(_(M,B(w)),(function(n,t,r){return n.reduce((function(n,r){var e=r.part,u=r.$next;return V({type:"CallExpression",callee:n,arguments:e.args},t,u)}))})),E=X(q("+","-","~","!")),S=F(_(B(E),N),(function(n,t,r){return n.reduceRight((function(n,t){var e=t.$,u=t.operator;return V({type:"UnaryExpression",argument:n,operator:u},e,r)}))})),O=m.reduce((function(n,t){return F(_(n,B(_(X(t),n))),"**"===t?W:G)}),S),C=F(_(O,U(_("?",n,":",n))),(function(n){var t=n[0],r=n[1],e=n[2];return r?{type:"TernaryExpression",test:t,consequent:r,alternate:e}:t}));return F(q(C),(function(n,t,r){var e=n[0];return V(e,t,r)}))})((function(n){return z(z)(n)}))));n.CONSTS=c,n.STDLIB=k,n.createExprContext=w,n.default=x,n.evaluateExpr=x,n.executeAst=N,n.exprToIdentifier=E,n.parseExpr=M,n.toBoolean=O,n.toNumber=S,n.toScalar=function(n,t){return void 0===t&&(t=10),"number"==typeof n?n.toString(t):"string"==typeof n||"boolean"==typeof n?n:n?n+"":null},n.toString=C,Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.min.js.map
