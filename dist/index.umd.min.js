/*!
 * awne v0.0.0
 * (c) Matthew Trost
 * Released under the MIT License.
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("seedrandom"),require("decimal.js")):"function"==typeof define&&define.amd?define(["exports","seedrandom","decimal.js"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).awne={},n.seedrandom,n.Decimal)}(this,(function(n,t,e){"use strict";function r(n){return n&&"object"==typeof n&&"default"in n?n:{default:n}}function u(n){if(n&&n.__esModule)return n;var t=Object.create(null);return n&&Object.keys(n).forEach((function(e){if("default"!==e){var r=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(t,e,r.get?r:{enumerable:!0,get:function(){return n[e]}})}})),t.default=n,Object.freeze(t)}var o=u(t),i=r(e),a=function(){return a=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var u in t=arguments[e])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n},a.apply(this,arguments)};function f(n,t,e,r){return new(e||(e=Promise))((function(u,o){function i(n){try{f(r.next(n))}catch(n){o(n)}}function a(n){try{f(r.throw(n))}catch(n){o(n)}}function f(n){var t;n.done?u(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(i,a)}f((r=r.apply(n,t||[])).next())}))}function c(n,t){var e,r,u,o,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(u=2&o[0]?r.return:o[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,o[1])).done)return u;switch(r=0,u&&(o=[2&o[0],u.value]),o[0]){case 0:case 1:u=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(u=i.trys,(u=u.length>0&&u[u.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!u||o[1]>u[0]&&o[1]<u[3])){i.label=o[1];break}if(6===o[0]&&i.label<u[1]){i.label=u[1],u=o;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(o);break}u[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(n,i)}catch(n){o=[6,n],r=0}finally{e=u=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function s(n,t,e){if(e||2===arguments.length)for(var r,u=0,o=t.length;u<o;u++)!r&&u in t||(r||(r=Array.prototype.slice.call(t,0,u)),r[u]=t[u]);return n.concat(r||Array.prototype.slice.call(t))}var l={E:Math.E,LN10:Math.LN10,LN2:Math.LN2,LOG10E:Math.LOG10E,LOG2E:Math.LOG2E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2},p={"**":{alias:"pow"},"*":{alias:"mul"},"/":{alias:"div"},"%":{alias:"mod"},"+":{alias:"add"},"-":{alias:"sub"},">>>":{alias:"bitwiseRightShiftUnsigned"},"<<":{alias:"bitwiseLeftShift"},">>":{alias:"bitwiseRightShift"},"<=":{alias:"lte"},">=":{alias:"gte"},"<":{alias:"lt"},">":{alias:"gt"},"===":{alias:"eq"},"!==":{alias:"neq"},"==":{alias:"eq"},"!=":{alias:"neq"},"&":{alias:"bitwiseAnd"},"^":{alias:"bitwiseXor"},"|":{alias:"bitwiseOr"},"&&":{alias:"and"},"||":{alias:"or"},":=":{alias:"set"},"+=":{alias:"setAdd"},"-=":{alias:"setSub"},"/=":{alias:"setDiv"},"*=":{alias:"setMul"}},d={"+":{alias:"number"},"-":{alias:"negate"},"~":{alias:"bitwiseNot"},"!":{alias:"not"}},h=D(/^('[^'\\]*(?:\\.[^'\\]*)*')/,/^("[^"\\]*(?:\\.[^"\\]*)*")/),m=D(/^((?:[0-9]+\.?[0-9]*|\.[0-9]+)(?:[eE][-+]?[0-9]+)?)\b/,/^(0[xX][0-9a-fA-F]+)\b/),b=/^(null)\b/,g=/^(true|false)\b/,v=/^([a-zA-Z_$][a-zA-Z0-9_$]*)/,x=["**",D("*","/","%"),D("+","-"),D(">>>","<<",">>"),D("<=",">=","<",">"),D("===","!==","==","!="),/^&(?!&)/,"^",/^\|(?!\|)/,"&&","||",D(":=","+=","-=","*=","/=")];function y(n){var t=n.funcs,e=n.vars,r=n.binops,u=n.unops,i=n.seed,f=void 0===i?"expreval":i;return{rng:o.default(f),vars:a(a({},l),e),funcs:a(a({},M),t),binops:a(a({},p),r),unops:a(a({},d),u)}}function w(n,t){return void 0===t&&(t=y({})),f(this,void 0,void 0,(function(){var e;return c(this,(function(r){switch(r.label){case 0:return e={},[4,F(N(n),t)];case 1:return[2,(e.result=r.sent(),e.ctx=t,e)]}}))}))}function N(n){return function(n,t,e){void 0===t&&(t=0);void 0===e&&(e=!1);return function(r){if("string"!=typeof r)throw new Error("Parsing function expects a string input");var u=function(n,t){void 0===t&&(t=0);return{text:n,ignore:[],stack:[],sp:0,lastSeen:k(n,t,{pos:0,line:1,column:1}),pos:t}}(r,t),o=n(u);if(u===o||!e&&o.pos<r.length)throw new Error("Unexpected token at ".concat(u.lastSeen.line,":").concat(u.lastSeen.column,". Remainder: ").concat(r.slice(u.lastSeen.pos)));return u.stack[0]}}(J)(n.replace(/\/\/.*\n/g,""))}function F(n,t){var e;return void 0===t&&(t=y({})),f(this,void 0,void 0,(function(){var r,u,o,i,a,l,p,d,h,m,b,g,v,x=this;return c(this,(function(y){switch(y.label){case 0:switch(n.type){case"Literal":return[3,1];case"Identifier":return[3,2];case"CallExpression":return[3,3];case"BinaryExpression":return[3,11];case"TernaryExpression":return[3,12];case"UnaryExpression":return[3,17]}return[3,18];case 1:return[2,n.value];case 2:return Object.keys(t.vars).includes(n.name)?[2,t.vars[n.name]]:[2,n.name];case 3:return(r=Object.keys(t.funcs).includes(n.callee.name)?t.funcs[n.callee.name]:null)?(u=[],r.assignment&&n.arguments.length>1?(o=null!==(e=E(n.arguments[0]))&&void 0!==e?e:"",i=n.arguments.slice(1),l=(a=u.push).apply,p=[u],d=[[o]],[4,I(i,(function(n){return f(x,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,F(n,t)];case 1:return[2,e.sent()]}}))}))}))]):[3,5]):[3,10];case 4:return l.apply(a,p.concat([s.apply(void 0,d.concat([y.sent(),!1]))])),[3,7];case 5:return m=(h=u.push).apply,b=[u],[4,I(n.arguments,(function(n){return f(x,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,F(n,t)];case 1:return[2,e.sent()]}}))}))}))];case 6:m.apply(h,b.concat([y.sent()])),y.label=7;case 7:return r.async?[4,r.f.apply(r,s([t],u,!1))]:[3,9];case 8:return[2,y.sent()];case 9:return[2,r.f.apply(r,s([t],u,!1))];case 10:throw new Error("Function not found: '".concat(n.callee.name,"'"));case 11:if(g=Object.keys(t.binops).includes(n.operator)?t.binops[n.operator]:null)return[2,F({type:"CallExpression",callee:{name:g.alias,type:"Identifier"},arguments:[n.left,n.right]},t)];throw new Error("Operator not found: '".concat(n.operator,"'"));case 12:return[4,F(n.test,t)];case 13:return O(y.sent())?[4,F(n.consequent,t)]:[3,15];case 14:return[2,y.sent()];case 15:return[4,F(n.alternate,t)];case 16:return[2,y.sent()];case 17:if(v=Object.keys(t.unops).includes(n.operator)?t.unops[n.operator]:null)return[2,F({type:"CallExpression",callee:{name:v.alias,type:"Identifier"},arguments:[n.argument]},t)];throw new Error("Operator not found: '".concat(n.operator,"'"));case 18:throw new Error("Syntax error")}}))}))}function E(n){return"Identifier"===n.type?n.name:null}function S(n,t){return void 0===t&&(t=0),"number"==typeof n?isNaN(n)?t:n:"string"==typeof n?n.includes(".")?parseFloat(n):parseInt(n):t}function O(n){return!!n&&(("string"!=typeof n||!n.match(/^\s+$/))&&("false"!==n&&"0"!==n))}function C(n,t){return void 0===t&&(t=10),"number"==typeof n?n.toString(t):!0===n||"true"===n?"true":n&&"false"!==n?n+"":"false"}function A(n){return n?!0===n?new i.default(1):"number"==typeof n||O(n)?new i.default(n):new i.default(0):new i.default(0)}function I(n,t){return f(this,void 0,void 0,(function(){var e,r,u;return c(this,(function(o){switch(o.label){case 0:e=[],r=0,o.label=1;case 1:return r<n.length?[4,t(n[r],r,n)]:[3,4];case 2:u=o.sent(),e.push(u),o.label=3;case 3:return r++,[3,1];case 4:return[2,e]}}))}))}function j(n,t,e){var r=C(t);return r.match(/^__proto__|prototype|constructor$/)||(n.vars[r]=e),e}function L(n,t){var e;return null!==(e=n.vars[t+""])&&void 0!==e?e:null}var M={do:{f:function(n){for(var t,e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return null!==(t=e[e.length-1])&&void 0!==t?t:null}},set:{assignment:!0,f:function(n,t,e){return j(n,t,e)}},setAdd:{assignment:!0,f:function(n,t,e){return j(n,t,S(L(n,t))+S(e))}},setSub:{assignment:!0,f:function(n,t,e){return j(n,t,S(L(n,t))-S(e))}},setMul:{assignment:!0,f:function(n,t,e){return j(n,t,S(L(n,t))*S(e))}},setDiv:{assignment:!0,f:function(n,t,e){return j(n,t,S(L(n,t))/S(e))}},unixTimestampNow:{f:function(){return Date.now()}},unixTimestampForDate:{f:function(n,t,e,r,u,o,i){return new Date(S(t),S(e),S(r),S(u),S(o),S(i)).getTime()}},all:{f:function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var r=0;r<t.length;r++)if(!t[r])return!1;return!0}},any:{f:function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var r=0;r<t.length;r++)if(t[r])return!0;return!1}},some:{f:function(n){for(var t,e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return!!(t=M.any).f.apply(t,s([n],e,!1))}},none:{f:function(n){for(var t,e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return!(t=M.any).f.apply(t,s([n],e,!1))}},or:{f:function(n,t,e){return O(t)||O(e)}},and:{f:function(n,t,e){return O(t)&&O(e)}},not:{f:function(n,t){return!O(t)}},gt:{f:function(n,t,e){return A(t).gt(A(e))}},gte:{f:function(n,t,e){return A(t).gte(A(e))}},lt:{f:function(n,t,e){return A(t).lt(A(e))}},lte:{f:function(n,t,e){return A(t).lte(A(e))}},eq:{f:function(n,t,e){return C(t)===C(e)}},neq:{f:function(n,t,e){return C(t)!==C(e)}},rand:{f:function(n){return n.rng()}},randInRange:{f:function(n,t,e){return n.rng()*(Number(e)-Number(t))+Number(t)}},randInt:{f:function(n){return Math.floor(10*n.rng())}},randIntInRange:{f:function(n,t,e){return t=Math.ceil(Number(t)),e=Math.floor(Number(e)),Math.floor(n.rng()*(e-t+1))+t}},number:{f:function(n,t){return Number(t)}},bitwiseOr:{f:function(n,t,e){return Number(t)|Number(e)}},bitwiseXor:{f:function(n,t,e){return Number(t)^Number(e)}},bitwiseAnd:{f:function(n,t,e){return Number(t)&Number(e)}},bitwiseNot:{f:function(n,t){return~Number(t)}},bitwiseLeftShift:{f:function(n,t,e){return Number(t)<<Number(e)}},bitwiseRightShift:{f:function(n,t,e){return Number(t)>>Number(e)}},bitwiseRightshiftUnsigned:{f:function(n,t,e){return Number(t)>>>Number(e)}},negate:{f:function(n,t){return A(t).neg().toFixed()}},add:{f:function(n,t,e){return A(t).add(A(e)).toFixed()}},sub:{f:function(n,t,e){return A(t).sub(A(e)).toFixed()}},div:{f:function(n,t,e){return A(t).div(A(e)).toFixed()}},mul:{f:function(n,t,e){return A(t).mul(A(e)).toFixed()}},mod:{f:function(n,t,e){return A(t).mod(A(e)).toFixed()}},pow:{f:function(n,t,e){return A(t).pow(A(e)).toFixed()}},abs:{f:function(n,t){return i.default.abs(A(t)).toFixed()}},acos:{f:function(n,t){return i.default.acos(A(t)).toFixed()}},acosh:{f:function(n,t){return i.default.acosh(A(t)).toFixed()}},asin:{f:function(n,t){return i.default.asin(A(t)).toFixed()}},asinh:{f:function(n,t){return i.default.asinh(A(t)).toFixed()}},atan:{f:function(n,t){return i.default.atan(A(t)).toFixed()}},atan2:{f:function(n,t,e){return i.default.atan2(A(t),A(e)).toFixed()}},atanh:{f:function(n,t){return i.default.atanh(A(t)).toFixed()}},cbrt:{f:function(n,t){return i.default.cbrt(A(t)).toFixed()}},ceil:{f:function(n,t){return i.default.ceil(A(t)).toFixed()}},cos:{f:function(n,t){return i.default.cos(A(t)).toFixed()}},cosh:{f:function(n,t){return i.default.cosh(A(t)).toFixed()}},exp:{f:function(n,t){return i.default.exp(A(t)).toFixed()}},floor:{f:function(n,t){return i.default.floor(A(t)).toFixed()}},hypot:{f:function(n,t){return i.default.hypot(A(t)).toFixed()}},log:{f:function(n,t){return i.default.log(A(t)).toFixed()}},log10:{f:function(n,t){return i.default.log10(A(t)).toFixed()}},log2:{f:function(n,t){return i.default.log2(A(t)).toFixed()}},max:{f:function(n,t){return i.default.max(A(t)).toFixed()}},min:{f:function(n,t){return i.default.min(A(t)).toFixed()}},round:{f:function(n,t){return i.default.round(A(t)).toFixed()}},sign:{f:function(n,t){return i.default.sign(A(t)).toFixed()}},sin:{f:function(n,t){return i.default.sin(A(t)).toFixed()}},sinh:{f:function(n,t){return i.default.sinh(A(t)).toFixed()}},sqrt:{f:function(n,t){return i.default.sqrt(A(t)).toFixed()}},tan:{f:function(n,t){return i.default.tan(A(t)).toFixed()}},tanh:{f:function(n,t){return i.default.tanh(A(t)).toFixed()}},trunc:{f:function(n,t){return i.default.trunc(A(t)).toFixed()}},fromCharCode:{f:function(n,t){return String.fromCharCode(Number(t))}},fromCodePoint:{f:function(n,t){return String.fromCodePoint(Number(t))}},parseInt:{f:function(n,t,e){return parseInt(C(t),Number(e))}},parseFloat:{f:function(n,t){return parseFloat(C(t))}},length:{f:function(n,t){return C(t).length}},charAt:{f:function(n,t,e){return C(t).charAt(Number(e))}},charCodeAt:{f:function(n,t,e){return C(t).charCodeAt(Number(e))}},codePointAt:{f:function(n,t,e){var r;return null!==(r=C(t).codePointAt(Number(e)))&&void 0!==r?r:0}},concat:{f:function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return"".concat.apply("",t.map((function(n){return C(n)})))}},endsWith:{f:function(n,t,e){return C(t).endsWith(C(e))}},includes:{f:function(n,t,e){return C(t).includes(C(e))}},indexOf:{f:function(n,t,e){return C(t).indexOf(C(e))}},lastIndexOf:{f:function(n,t,e){return C(t).lastIndexOf(C(e))}},localeCompare:{f:function(n,t,e){return C(t).localeCompare(C(e))}},match:{f:function(n,t,e){return!!C(t).match(C(e))}},matchAll:{f:function(n,t,e){return!!C(t).match(C(e))}},padEnd:{f:function(n,t,e,r){return C(t).padEnd(Number(e),C(null!=r?r:""))}},padStart:{f:function(n,t,e,r){return C(t).padStart(Number(e),C(null!=r?r:""))}},repeat:{f:function(n,t,e){return C(t).repeat(Number(e))}},replace:{f:function(n,t,e,r){return C(t).replace(C(e),C(r))}},replaceAll:{f:function(n,t,e,r){return C(t).replaceAll(C(e),C(r))}},slice:{f:function(n,t,e,r){return C(t).slice(Number(e),Number(null!=r?r:C(t).length))}},startsWith:{f:function(n,t,e){return C(t).startsWith(C(e))}},substring:{f:function(n,t,e,r){return C(t).substring(Number(e),Number(r))}},toLowerCase:{f:function(n,t){return C(t).toLowerCase()}},toUpperCase:{f:function(n,t){return C(t).toUpperCase()}},trim:{f:function(n,t){return C(t).trim()}},trimEnd:{f:function(n,t){return C(t).trimEnd()}},trimStart:{f:function(n,t){return C(t).trimStart()}}};function k(n,t,e){for(var r=e.pos,u=e.line,o=e.column;r<t;){"\n"===n[r++]?(o=1,u++):o++}return{pos:r,line:u,column:o}}var T=function(n){n.pos>n.lastSeen.pos&&Object.assign(n.lastSeen,k(n.text,n.pos,n.lastSeen))};function P(n){if("function"==typeof n)return n;if(n instanceof RegExp)return t=n,function(n){T(n);var e=t.exec(n.text.substring(n.pos));if(!e)return n;for(var r=a(a({},n),{pos:n.pos+e[0].length}),u=1;u<e.length;u++)n.stack[r.sp++]=e[u];return r};var t;if("string"==typeof n)return function(n){return function(t){return T(t),t.text.startsWith(n,t.pos)?a(a({},t),{pos:t.pos+n.length}):t}}(n);throw new Error("Invalid rule")}function R(n,t){return t=P(t),n&&(n=R(null,$(n))),function(e){var r=n?n(e):e;e.ignore.push(n);var u=t(r);return e.ignore.pop(),u===r?e:n?n(u):u}}var q=function(n){if(!n.ignore.length)return n;var t=n.ignore[n.ignore.length-1];return t?t(n):n};function _(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return n=n.map(P),function(t){for(var e=t,r=0;r<n.length;r++){var u=r>0?q(e):e,o=n[r](u);if(o===u)return t;(o.pos>u.pos||o.sp>u.sp)&&(e=o)}return e}}function D(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return n=n.map(P),function(t){for(var e=0;e<n.length;e++){var r=n[e](t);if(r!==t)return r}return t}}function $(n){return n=P(n),function(t){for(;;){var e=q(t),r=n(e);if(r===e)return t;t=r}}}function U(n){return n=P(n),function(t){var e=n(t);return e!==t?e:a({},t)}}function B(n,t){return n=P(n),function(e){var r=n(e);if(r===e)return e;var u=t(e.stack.slice(e.sp,r.sp),e,r);return r.sp=e.sp,null!==u&&(e.stack[r.sp++]=u),r}}var G=function(n){return U($(n))};function W(n,t){for(var e=n[0],r=1;r<n.length;r+=2){var u=[n[r].operator,n[r+1]],o=u[1];e=H({type:"BinaryExpression",left:e,operator:u[0],right:o},t,{pos:o.pos+o.text.length})}return e}function Q(n,t,e){for(var r=n[n.length-1],u=n.length-2;u>=0;u-=2){var o=[n[u-1],n[u].operator],i=o[0];r=H({type:"BinaryExpression",left:i,operator:o[1],right:r},{pos:i.pos},e)}return r}var z,X,Z=function(n){return B(n,(function(n,t,e){return{$:t,operator:t.text.substring(t.pos,e.pos)}}))},H=function(n,t,e){return Object.defineProperties(n,{pos:{writable:!0,configurable:!0,value:t.pos},text:{writable:!0,configurable:!0,value:(t.text||e.text).slice(t.pos,e.pos)}})},J=(X=function(n){return z((function(t){return n(n)(t)}))},R(/^\s+/,(z=function(n){var t=B(v,(function(n){return{type:"Identifier",name:n[0]}})),e=D(B(h,(function(n){var t=n[0];return{type:"Literal",value:t.slice(1,-1),raw:t}})),B(m,(function(n){var t=n[0];return{type:"Literal",value:+t,raw:t}})),B(b,(function(n){return{type:"Literal",value:null,raw:n[0]}})),B(g,(function(n){var t=n[0];return{type:"Literal",value:"true"===t,raw:t}}))),r=_(n,G(_(",",n))),u=B(_("(",U(_(r,U(","))),")"),(function(n){return{args:n}})),o=B(D(u),(function(n,t,e){return{part:n[0],$next:e}})),i=B(_(n,G(_(",",n))),(function(n){return n.length>1?{type:"CompoundExpression",leafs:n}:n[0]})),a=B(D(e,t,_("(",i,")")),(function(n,t,e){var r=n[0];return H(r,t,e)})),f=B(_(a,G(o)),(function(n,t,e){return n.reduce((function(n,e){var r=e.part,u=e.$next;return H({type:"CallExpression",callee:n,arguments:r.args},t,u)}))})),c=Z(D("+","-","~","!")),s=B(_(G(c),f),(function(n,t,e){return n.reduceRight((function(n,t){var r=t.$,u=t.operator;return H({type:"UnaryExpression",argument:n,operator:u},r,e)}))})),l=x.reduce((function(n,t){return B(_(n,G(_(Z(t),n))),"**"===t?Q:W)}),s),p=B(_(l,U(_("?",n,":",n))),(function(n){var t=n[0],e=n[1],r=n[2];return e?{type:"TernaryExpression",test:t,consequent:e,alternate:r}:t}));return B(D(p),(function(n,t,e){var r=n[0];return H(r,t,e)}))})((function(n){return X(X)(n)}))));n.CONSTS=l,n.STDLIB=M,n.createExprContext=y,n.default=w,n.evaluateExpr=w,n.executeAst=F,n.exprToIdentifier=E,n.parseExpr=N,n.toBoolean=O,n.toDecimal=A,n.toNumber=S,n.toString=C,Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.min.js.map
